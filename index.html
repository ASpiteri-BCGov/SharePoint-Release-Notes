<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
<style>
  #result {
    list-style: none;
    font-family: segoe ui;
  }

  #rcntPatNts {
    font-weight: bold;
    font-family: segoe ui;
    padding: 1%;
    width: 9%;
    text-align: left;
    margin-left: 1pc;
    font-size: 22px;
    color: rgba(0, 105, 224, 1);
  }
</style>

<script>
  $(document).ready(function() {

    get_watched_repos(); // Call function

    function get_watched_repos() { // Make Function

      $('#result').html(""); // Destination for results
      var html = "";

      $.ajax({ // REST call to retreive Release Note documents from Github
        url: "https://api.github.com/repos/ASpiteri-BCGov/SharePoint-Release-Notes/contents",
        dataType: "jsonp",
        success: function(returndata) {
          $.each(returndata.data, function(i, item) {
            console.log(this);
            if (this.name != "_config.yml") {
              html += '<li>' + // Construct lists and links from REST results
                '<a class="ntLnk" href="' + this.html_url + '">' + this.name + '</a>' +
                '<ul>' +
                '<li>' + 'name: ' + this.name + '</li>' +
                '</ul>' +
                '</li>';
                console.log(this.html_url);
            } // If  End
          }); // For End


          var url = $('.ntLnk').html();
          console.log(url);
          var split = url.split('.');
          console.log(split);
          split[split.length - 1] = 'html';
          var newUrl = split.join('.');
          console.log(newUrl);
          $('.ntLnk').html(newUrl);

          $('#result').append(html); // Append constructed HTML results to div
        } // Success End

      }); // Ajax End
    } // get_watched_repos End
  }); // Document Ready End
</script>

<div id="rcntPatNts">Recent Patch Notes</div>
<span style="padding: 0% 10%; margin-left: 38px; background: #999;"></span>
<div style="padding: 20px; margin: 0 20px 0 20px;" id="result">
</div>
